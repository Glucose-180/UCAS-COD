## RISC-V 功能型 CPU 结构优化计划

这里是实验项目 5.3、5.4 对应的代码文件。

#### 5.3 处理器性能增强设计

​    设计 5 级流水线，分别为 IF（取指）、ID（译码）、EX（执行）、MA（访存）、WB（写回），分 5 个文件存放，每个文件存放一个模块，在 CPU 主模块中将它们例化使用。在这 5 个流水级的模块中，输入、输出连线的命名服从一定的规则：对于逐级传递的信号，某个模块既输入又输出时，用后缀“I”“O”区分，例如 PC_I、PC_O 分别为某模块的 PC 输入与输出；寄存器通常使用全大写英文首字母缩写命名、以 R 结尾，普通导线用多个单词的简写命名。

  该流水线要求相邻两条指令至少相差 3 个时钟周期，即 CPI 至少为 3，否则在处理前一条指令是取数的数据相关时可能会出问题。

#### 5.4 高速缓存（Cache）设计

  尚未开始。

#### 其它说明

  custom_cpu_test.v 是从 CloudIDE 下载的经过改造的测试文件，通过设置文件开头的 TLIMIT 和 ITLIMIT，可分别设置总仿真超时和单条指令的仿真超时，设为 0 代表不启用。